import React from 'react';
import ClientDetails from './ClientDetails';
import './ClientCard.css';
import Button from '../../common/Button'; 


const ClientCard = ({ client }) => {
  const { removeClient } = useClientContext(); // Get the removeClient function from context

  const handleDelete = async () => {
    try {
      await removeClient(client.id); // Call the removeClient function with the client's ID
    } catch (error) {
      console.error("Error deleting client:", error);
    }
  };

  return (
    <div className="client-card">
      <h2>{client.name}</h2>
      <p><strong>Contact Name:</strong> {client.contactName}</p>
      <p><strong>Lifecycle Stage:</strong> {client.lifecycleStage}</p>
      <p><strong>Sales Rep:</strong> {client.salesRep}</p>
      <p><strong>Office:</strong> {client.office}</p>
      <p><strong>Email:</strong> <a href={`mailto:${client.contactEmail}`}>{client.contactEmail}</a></p>
      <Button onClick={handleDelete} className="delete-button">Delete Client</Button>
    </div>
  );
}

export default ClientCard;